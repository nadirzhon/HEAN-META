PYTHONUNBUFFERED=1
TZ=UTC

# Environment (development or production)
ENVIRONMENT=development

# Bybit Configuration (TESTNET mode)
BYBIT_TESTNET=true
BYBIT_API_KEY=your_bybit_testnet_api_key
BYBIT_API_SECRET=your_bybit_testnet_api_secret

# Trading Symbols
TRADING_SYMBOLS=BTCUSDT,ETHUSDT,SOLUSDT,XRPUSDT,BNBUSDT

# Trading Mode
TRADING_MODE=live
DRY_RUN=false
LIVE_CONFIRM=YES
REQUIRE_LIVE_CONFIRM=false

# Capital
INITIAL_CAPITAL=10000

# Risk Management
MAX_DAILY_DRAWDOWN_PCT=15.0
KILLSWITCH_DRAWDOWN_PCT=30.0

# Strategies
FUNDING_HARVESTER_ENABLED=true
BASIS_ARBITRAGE_ENABLED=true
IMPULSE_ENGINE_ENABLED=true
HF_SCALPING_ENABLED=true
ENHANCED_GRID_ENABLED=true
MOMENTUM_TRADER_ENABLED=true
INVENTORY_NEUTRAL_MM_ENABLED=true
CORRELATION_ARB_ENABLED=true
REBATE_FARMER_ENABLED=true
LIQUIDITY_SWEEP_ENABLED=true
SENTIMENT_STRATEGY_ENABLED=true

# Multi-Symbol
MULTI_SYMBOL_ENABLED=true
SYMBOLS=BTCUSDT,ETHUSDT,SOLUSDT,XRPUSDT,BNBUSDT

# Profit Capture
PROFIT_CAPTURE_ENABLED=true
PROFIT_CAPTURE_TARGET_PCT=20.0
PROFIT_CAPTURE_TRAIL_PCT=10.0
PROFIT_CAPTURE_MODE=partial
PROFIT_CAPTURE_AFTER_ACTION=continue
PROFIT_CAPTURE_CONTINUE_RISK_MULT=0.25

# AI / ML
ABSOLUTE_PLUS_ENABLED=true
META_LEARNING_AUTO_PATCH=false
META_LEARNING_RATE=1000000
META_LEARNING_MAX_WORKERS=4
AI_FACTORY_ENABLED=true
CANARY_PERCENT=10
PROCESS_FACTORY_ENABLED=true
BRAIN_ENABLED=true
BRAIN_ANALYSIS_INTERVAL=20

# Ollama Sentiment (local LLM, free)
OLLAMA_ENABLED=true
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2:3b
OLLAMA_SENTIMENT_INTERVAL=300

# RL Risk Manager
RL_RISK_ENABLED=true
RL_RISK_ADJUST_INTERVAL=60

# Advanced Execution
TWAP_ENABLED=true
SMART_ORDER_SELECTION_ENABLED=true

# Physics Integration
PHYSICS_SIZING_ENABLED=true
PHYSICS_FILTER_ENABLED=true
PHYSICS_FILTER_STRICT=true

# Symbiont X
SYMBIONT_X_ENABLED=true

# Dynamic AI/ML
ORACLE_DYNAMIC_WEIGHTING=true
PHYSICS_AWARE_SIZING=true
STRATEGY_CAPITAL_ALLOCATION=true
CAPITAL_ALLOCATION_METHOD=hybrid

# Council
COUNCIL_ENABLED=true
COUNCIL_AUTO_APPLY_SAFE=true

# LLM API KEYS (replace with your own keys)
ANTHROPIC_API_KEY=sk-ant-your-key-here
OPENAI_API_KEY=sk-proj-your-key-here
GEMINI_API_KEY=your-gemini-key-here
OPENROUTER_API_KEY=sk-or-v1-your-key-here

# Infrastructure
REDIS_URL=redis://redis:6379/0

# ── Signal Chain Reliability (new features) ────────────────────────────────────
#
# DLQ Auto-Retry
#   The EventBus Dead Letter Queue retries failed critical-priority event handlers
#   automatically in a background asyncio task. The retry loop runs every
#   DLQ_AUTO_RETRY_INTERVAL_S seconds. Per-entry delay uses exponential backoff:
#   effective_delay = DLQ_AUTO_RETRY_INTERVAL_S * 2^retry_count
#   DLQ_MAXSIZE and DLQ_MAX_RETRIES are also tunable (see below).
DLQ_AUTO_RETRY_INTERVAL_S=10.0
DLQ_MAXSIZE=1000
DLQ_MAX_RETRIES=3

# In-Flight Order Tracker
#   Prevents burst ORDER_REQUESTs from exceeding max_open_positions in the window
#   between RiskSentinel envelope recomputes. Reservations are released automatically
#   on ORDER_FILLED/REJECTED/CANCELLED. INFLIGHT_RESERVATION_TIMEOUT_S is the safety
#   backstop for reservations that are never released (e.g. exchange never responds).
#   Memory: each reservation is a small Python dataclass (~200 bytes). With
#   max_open_positions=10 the steady-state footprint is negligible.
INFLIGHT_RESERVATION_TIMEOUT_S=30.0

# Position Reconciliation
#   Periodic reconciliation fetches open positions from Bybit and compares with
#   local state. Each cycle makes one Bybit REST API call. Increasing this value
#   reduces Bybit API rate usage; decreasing it improves drift detection speed.
#   Minimum recommended value: 30s. Default: 60s.
RECONCILIATION_INTERVAL_S=60

# Close Retry
#   When closing a position on Bybit, transient exchange errors are retried with
#   exponential backoff: delay = CLOSE_RETRY_BASE_DELAY_S * 2^(attempt-1).
#   With defaults (max=3, base=1.0) this gives delays of 1s, 2s before the final
#   attempt, for a total worst-case wait of ~3s per close failure.
#   Each retry attempt makes one additional Bybit REST API call.
CLOSE_RETRY_MAX_ATTEMPTS=3
CLOSE_RETRY_BASE_DELAY_S=1.0

# Safety
DEBUG_MODE=false
